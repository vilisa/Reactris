(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(t,e,o){t.exports=o(17)},,,,,,function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){"use strict";o.r(e);var a=o(0),n=o.n(a),s=o(7),i=o.n(s),r=(o(14),o(1)),p=o(2),l=o(4),c=o(3),_=o(5),u=(o(15),{GAME_WIDTH:10,GAME_HEIGHT:16,states:{PAUSED:!1,GAME_RESULT:"GAME_RESULT"}}),d={validateMove:function(t){return!(u.states.PAUSED||!this.isSpaceAvailable(t)||!this.isWithinBoundaries(t))},isSpaceAvailable:function(t){var e=t.piece,o=t.landed;console.log("r: "+e.potential_rotation+"\ny: "+e.potential_pos_y+"\nx: "+e.potential_pos_x+"\nshape: "+e.shapes[e.potential_rotation]);for(var a=0;a<e.shapes[e.potential_rotation].length;a++)for(var n=0;n<e.shapes[e.potential_rotation][a].length;n++)if(0!==e.shapes[e.potential_rotation][a][n]&&(console.log(e.shapes[e.potential_rotation][a][n]),0!==o[a+e.potential_pos_y]&&0!==o[n+e.potential_pos_x]))return console.log("Space Taken!"),console.log("row:"+o[a+e.potential_pos_y]+"col:"+o[n+e.potential_pos_x]),!0;return!0},isWithinBoundaries:function(t){return!0},moveDown:function(t){var e=t.piece;return e.potential_pos_y=t.piece.pos_y+1,this.validateMove(t)&&(console.log("Down"),e.pos_y=t.piece.potential_pos_y),e.potential_pos_y=e.pos_y,e},moveLeft:function(t){var e=t.piece;return e.potential_pos_x=e.pos_x-1,this.validateMove(t)&&(console.log("Left"),e.pos_x=e.potential_pos_x),e.potential_pos_x=e.pos_x,e},moveRight:function(t){var e=t.piece;return e.potential_pos_x=e.pos_x+1,this.validateMove(t)&&(console.log("Right"),e.pos_x=e.potential_pos_x),e.potential_pos_x=e.pos_x,e},hardDrop:function(t){this.validateMove(t)&&console.log("Drop")},rotate:function(t){var e=t.piece;return e.potential_rotation=e.rotation+1,e.potential_rotation>=e.shapes.length&&(e.potential_rotation=0),this.validateMove(t)&&(console.log("rotate"),e.rotation=e.potential_rotation),e.potential_rotation=e.rotation,e},pause:function(){u.states.PAUSED=!u.states.PAUSED,u.states.PAUSED?console.log("Pause"):console.log("Resume")},landPiece:function(t){console.log("land piece");for(var e=t.piece,o=t.landed,a=0;a<e.shapes[e.rotation].length;a++)for(var n=0;n<e.shapes[e.rotation][a].length;n++)0!==e.shapes[e.rotation][a][n]&&(o[a+e.pos_y][n+e.pos_x]=e.shapes[e.rotation][a][n]);return o}},h={getNewBoard:function(){return Array(u.GAME_HEIGHT).fill(null).map(function(t){return Array(u.GAME_WIDTH).fill(0)})},drawBoard:function(t){for(var e=this.getNewBoard(),o=t.landed,a=t.piece,n=0;n<o.length;n++)for(var s=0;s<o[n].length;s++)0!==o[n][s]&&(e[n][s]=1);for(var i=0;i<a.shapes[a.rotation].length;i++)for(var r=0;r<a.shapes[a.rotation][i].length;r++)0!==a.shapes[a.rotation][i][r]&&(e[i+a.pos_y][r+a.pos_x]=1);return e}},f=function(t){function e(){return Object(r.a)(this,e),Object(l.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(_.a)(e,t),Object(p.a)(e,[{key:"drawCol",value:function(t){return 0===t?n.a.createElement("td",{class:"empty"}):n.a.createElement("td",{class:"filled"})}},{key:"render",value:function(){var t=this;return n.a.createElement("table",null,n.a.createElement("tbody",null,this.props.state.map(function(e){return n.a.createElement("tr",{key:e.id},e.map(function(e){return t.drawCol(e)}))})))}}]),e}(a.Component),v={shapes:[[[1,1],[1,1]]],pos_y:0,pos_x:4,rotation:0,potential_pos_y:0,potential_pos_x:0,potential_rotation:0},y={shapes:[[[1,1],[1,0],[1,0]],[[0,0,0],[1,1,1],[0,0,1]],[[0,1],[0,1],[1,1]],[[0,0,0],[1,0,0],[1,1,1]]],pos_y:0,pos_x:4,rotation:0,potential_pos_y:0,potential_pos_x:0,potential_rotation:0},b={shapes:[[[1,1],[0,1],[0,1]],[[0,0,0],[0,0,1],[1,1,1]],[[1,0],[1,0],[1,1]],[[0,0,0],[1,1,1],[1,0,0]]],pos_y:0,pos_x:4,rotation:0,potential_pos_y:0,potential_pos_x:0,potential_rotation:0},g={shapes:[[[0,1,0],[1,1,1]],[[0,1,0],[0,1,1],[0,1,0]],[[1,1,1],[0,1,0]],[[0,1,0],[1,1,0],[0,1,0]]],pos_y:0,pos_x:4,rotation:0,potential_pos_y:0,potential_pos_x:0,potential_rotation:0},m={shapes:[[[0,1,0],[0,1,0],[0,1,0],[0,1,0]],[[1,1,1,1]]],pos_y:0,pos_x:4,rotation:0,potential_pos_y:0,potential_pos_x:0,potential_rotation:0},E={shapes:[[[0,1,0],[0,1,1],[0,0,1]],[[0,0,0],[0,1,1],[1,1,0]]],pos_y:0,pos_x:4,rotation:0,potential_pos_y:0,potential_pos_x:0,potential_rotation:0},w={shapes:[[[0,1,0],[1,1,0],[1,0,0]],[[0,0,0],[1,1,0],[0,1,1]]],pos_y:0,pos_x:4,rotation:0,potential_pos_y:0,potential_pos_x:0,potential_rotation:0},x={getPiece:function(t,e){var o;switch(t){case"O":o=v;break;case"J":o=y;break;case"L":o=b;break;case"I":o=m;break;case"T":o=g;break;case"Z":o=E;break;case"S":o=w}return o.shapes.length<=e&&(o.rotation=e),o},getPieces:function(){return[]}},k=(o(16),function(t){function e(){return Object(r.a)(this,e),Object(l.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(_.a)(e,t),Object(p.a)(e,[{key:"paused",value:function(){if(u.states.PAUSED)return n.a.createElement("div",{class:"paused"},"Paused")}},{key:"render",value:function(){return n.a.createElement("div",{class:"info"},this.paused())}}]),e}(a.Component)),S=function(t){function e(t){var o;return Object(r.a)(this,e),(o=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={score:0,linesCleared:0,board:h.getNewBoard(),landed:[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,1,0,0],[0,0,1,0,0,0,0,1,0,0],[1,1,1,0,0,0,0,1,0,0]],piece:x.getPiece("Z",0)},o.state.board=h.drawBoard(o.state),o}return Object(_.a)(e,t),Object(p.a)(e,[{key:"componentDidMount",value:function(){this.attachEventListeners()}},{key:"drawBoard",value:function(){this.setState({board:h.drawBoard(this.state)})}},{key:"setPieceState",value:function(t){this.setState({piece:t})}},{key:"setLanded",value:function(t){this.setState({landed:t})}},{key:"render",value:function(){return n.a.createElement("div",{class:"reactrisContainer"},n.a.createElement("div",{class:"board"},n.a.createElement(f,{state:this.state.board})),n.a.createElement("div",{class:"infoTab"},n.a.createElement(k,null)))}},{key:"attachEventListeners",value:function(){var t=this;document.addEventListener("keydown",function(e){if(t.state.piece){switch(e.code){case"ArrowUp":t.setPieceState(d.rotate(t.state));break;case"ArrowDown":t.setPieceState(d.moveDown(t.state));break;case"ArrowLeft":t.setPieceState(d.moveLeft(t.state));break;case"ArrowRight":t.setPieceState(d.moveRight(t.state));break;case"Space":t.setPieceState(d.hardDrop(t.state));break;case"Enter":t.setLanded(d.landPiece(t.state));break;case"Escape":d.pause()}t.drawBoard()}})}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}],[[8,1,2]]]);
//# sourceMappingURL=main.0b50ca17.chunk.js.map