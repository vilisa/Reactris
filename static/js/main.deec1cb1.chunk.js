(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(19)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(7),i=a.n(o),r=(a(14),a(1)),c=a(2),l=a(4),p=a(3),u=a(5),h=(a(15),{GAME_WIDTH:10,GAME_HEIGHT:16}),d=[[[1,1],[1,1]]],m=[[[0,1,1],[0,1,0],[0,1,0]],[[0,0,0],[1,1,1],[0,0,1]],[[0,1,0],[0,1,0],[1,1,0]],[[1,0,0],[1,1,1],[0,0,0]]],_=[[[1,1,0],[0,1,0],[0,1,0]],[[0,0,1],[1,1,1],[0,0,0]],[[0,1,0],[0,1,0],[0,1,1]],[[0,0,0],[1,1,1],[1,0,0]]],f=[[[0,1,0],[1,1,1],[0,0,0]],[[0,1,0],[0,1,1],[0,1,0]],[[0,0,0],[1,1,1],[0,1,0]],[[0,1,0],[1,1,0],[0,1,0]]],v=[[[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0]],[[0,0,0,0],[0,0,0,0],[1,1,1,1],[0,0,0,0]],[[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]],[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]]],b=[[[0,1,0],[0,1,1],[0,0,1]],[[0,0,0],[0,1,1],[1,1,0]],[[1,0,0],[1,1,0],[0,1,0]],[[0,1,1],[1,1,0],[0,0,0]]],E=[[[0,0,1],[0,1,1],[0,1,0]],[[0,0,0],[1,1,0],[0,1,1]],[[0,1,0],[1,1,0],[1,0,0]],[[1,1,0],[0,1,1],[0,0,0]]],y={getShape:function(e,t){var a;switch(console.log("getShape("+e+","+t+")"),e){case"O":a=d;break;case"J":a=m;break;case"L":a=_;break;case"I":a=v;break;case"T":a=f;break;case"Z":a=b;break;case"S":a=E}return a[t]},getRotations:function(e){var t;switch(e){case"O":t=d;break;case"J":t=m;break;case"L":t=_;break;case"I":t=v;break;case"T":t=f;break;case"Z":t=b;break;case"S":t=E}return t}},g=function(){function e(t,a){Object(r.a)(this,e),this._shape=y.getShape(t,a),this._shapes=y.getRotations(t),this._rotation=a,this._pos_y=0,this._pos_x=Math.round(h.GAME_WIDTH/2-2),this._potential_shape=this._shape,this._potential_rotation=this._rotation,this._potential_pos_y=this._pos_y,this._potential_pos_x=this._pos_x}return Object(c.a)(e,[{key:"shape",get:function(){return this._shape},set:function(e){this._shape=e}},{key:"shapes",get:function(){return this._shapes},set:function(e){this._shapes=e}},{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation=e}},{key:"pos_y",get:function(){return this._pos_y},set:function(e){this._pos_y=e}},{key:"pos_x",get:function(){return this._pos_x},set:function(e){this._pos_x=e}},{key:"potential_shape",get:function(){return this._potential_shape},set:function(e){this._potential_shape=e}},{key:"potential_rotation",get:function(){return this._potential_rotation},set:function(e){this._potential_rotation=e}},{key:"potential_pos_y",get:function(){return this._potential_pos_y},set:function(e){this._potential_pos_y=e}},{key:"potential_pos_x",get:function(){return this._potential_pos_x},set:function(e){this._potential_pos_x=e}}]),e}(),k={validateMove:function(e){return!(e.paused||!e.piece||!this.isSpaceAvailable(e))},isSpaceAvailable:function(e){var t=e.piece,a=e.landed;try{for(var n=0;n<t.potential_shape.length;n++)for(var s=0;s<t.potential_shape[n].length;s++)if(0!==t.potential_shape[n][s]&&0!==a[n+t.potential_pos_y][s+t.potential_pos_x])return!1;return!0}catch(o){return!1}},moveDown:function(e){return e.piece.potential_pos_y=e.piece.pos_y+1,this.validateMove(e)?(console.log("Down"),e.piece.pos_y=e.piece.potential_pos_y):this.landPiece(e),e},moveLeft:function(e){var t=e.piece;return t.potential_pos_x=t.pos_x-1,this.validateMove(e)?(console.log("Left"),t.pos_x=t.potential_pos_x):t.potential_pos_x=t.pos_x,t},moveRight:function(e){var t=e.piece;return t.potential_pos_x=t.pos_x+1,this.validateMove(e)?(console.log("Right"),t.pos_x=t.potential_pos_x):t.potential_pos_x=t.pos_x,t},hardDrop:function(e){this.validateMove(e)&&console.log("Drop")},rotate:function(e){var t=e.piece;return t.potential_rotation=t.rotation+1,t.potential_rotation<t.shapes.length?t.potential_shape=t.shapes[t.potential_rotation]:(t.potential_rotation=0,t.potential_shape=t.shapes[0]),this.validateMove(e)?(t.shape=t.potential_shape,t.rotation=t.potential_rotation):(t.potential_rotation=t.rotation,t.potential_shape=t.shape),t},pause:function(e){return e.paused=!e.paused,e.paused?console.log("Pause"):console.log("Resume"),e.paused},clearPiece:function(e){return e.piece=null,e.piece},landPiece:function(e){if(e.piece){console.log("land piece");for(var t=e.piece,a=e.landed,n=0;n<t.shape.length;n++)for(var s=0;s<t.shape[n].length;s++)0!==t.shape[n][s]&&(a[n+t.pos_y][s+t.pos_x]=t.shape[n][s]);return e.score=e.score+10,e.piece=this.spawnPiece(),e}},spawnPiece:function(){var e=["O","J","L","I","T","Z","S"][Math.floor(7*Math.random())];return new g(e,0)}},w=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"getNewBoard",value:function(){return Array(h.GAME_HEIGHT).fill(null).map(function(e){return Array(h.GAME_WIDTH).fill(0)})}},{key:"drawBoard",value:function(e){if(e.piece){for(var t=this.getNewBoard(),a=e.landed,n=e.piece,s=0;s<a.length;s++)for(var o=0;o<a[s].length;o++)0!==a[s][o]&&(t[s][o]=1);for(var i=0;i<n.shape.length;i++)for(var r=0;r<n.shape[i].length;r++)0!==n.shape[i][r]&&(t[i+n.pos_y][r+n.pos_x]=n.shape[i][r]);return t}}},{key:"scaleBoard",value:function(){var e=document.getElementById("scaler"),t=h.GAME_WIDTH/h.GAME_HEIGHT;e.style.width=e.offsetHeight*t+"px"}}]),e}(),N=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"drawCol",value:function(e){return 0===e?s.a.createElement("div",{className:"col empty"}):s.a.createElement("div",{className:"col filled"})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"table"},this.props.state.map(function(t){return s.a.createElement("div",{className:"row",key:t.id},t.map(function(t){return e.drawCol(t)}))}))}}]),t}(n.Component),O=(a(16),function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"paused",value:function(){if(this.props.state.paused)return s.a.createElement("span",{className:"blink"},"||")}},{key:"render",value:function(){return s.a.createElement("div",{className:"info"},this.paused(),s.a.createElement("span",{className:"score"},"Score: ",this.props.state.score,"    Lines: ",this.props.state.linesCleared))}}]),t}(n.Component)),j=(a(17),function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"buttons"},s.a.createElement("div",{className:"button"},s.a.createElement("button",{onClick:function(){return e.props.setStateVariable({paused:k.pause(e.props.state)})}}),s.a.createElement("div",null,"Pause")),s.a.createElement("div",{className:"button"},s.a.createElement("button",null),s.a.createElement("div",null,"Reset"))),s.a.createElement("div",{className:"arrows"},s.a.createElement("center",null,s.a.createElement("div",{className:"up"},s.a.createElement("button",{className:"arrow-up",onClick:function(){return e.props.movePiece(k.rotate(e.props.state))}})),s.a.createElement("div",{className:"left-right"},s.a.createElement("button",{className:"arrow-left",onClick:function(){return e.props.movePiece(k.moveLeft(e.props.state))}}),s.a.createElement("span",{className:"spacer"},s.a.createElement("i",{className:"up"}),s.a.createElement("i",{className:"left"}),s.a.createElement("i",{className:"right"}),s.a.createElement("i",{className:"down"})),s.a.createElement("button",{className:"arrow-right",onClick:function(){return e.props.movePiece(k.moveRight(e.props.state))}})),s.a.createElement("div",{className:"down"},s.a.createElement("button",{className:"arrow-down",onClick:function(){return e.props.movePiece(k.moveDown(e.props.state))}})))))}}]),t}(n.Component)),S=(a(18),function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"menu-container"},s.a.createElement("div",{className:"menu"},s.a.createElement("h1",null,"Paused"),s.a.createElement("div",{className:"body"},"width: ",h.GAME_WIDTH,s.a.createElement("br",null),"height: ",h.GAME_HEIGHT)))}}]),t}(n.Component)),x=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).state={score:0,linesCleared:0,paused:!1,board:w.getNewBoard(),landed:[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,1,0,0],[0,0,1,0,0,0,0,1,0,0],[1,1,1,0,0,0,0,1,0,0]],piece:new g("I",0)},a.state.board=w.drawBoard(a.state),console.log(a.state.piece),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.attachEventListeners()}},{key:"componentDidUpdate",value:function(){}},{key:"drawBoard",value:function(){console.log("drawboard"),this.setState({board:w.drawBoard(this.state)})}},{key:"setPieceState",value:function(e){this.setState({piece:e}),this.drawBoard()}},{key:"setStateVariable",value:function(e){this.setState(e)}},{key:"setLanded",value:function(e){this.setState({landed:e.landed,piece:e.piece,score:e.score})}},{key:"paused",value:function(){if(this.state.paused)return s.a.createElement(S,null)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"main-container"},s.a.createElement("div",{className:"gameboy"},s.a.createElement("div",{className:"reactris-container"},s.a.createElement("div",{className:"screen"},this.paused(),s.a.createElement("div",{id:"scaler"},s.a.createElement(N,{state:this.state.board})),s.a.createElement(O,{state:this.state})),s.a.createElement("div",{className:"controls"},s.a.createElement(j,{state:this.state,movePiece:function(t){e.setPieceState(t)},setStateVariable:function(t){e.setStateVariable(t)}})))),s.a.createElement("div",{className:"debug-container"},s.a.createElement("div",{className:"debug-board"},"Landed Debug",s.a.createElement(N,{state:this.state.landed})),s.a.createElement("div",{className:"debug-board"},"Piece Debug",s.a.createElement(N,{state:this.state.piece.shape}))))}},{key:"attachEventListeners",value:function(){var e=this;window.onload=function(){w.scaleBoard()},window.addEventListener("resize",w.scaleBoard.bind(this)),document.addEventListener("keydown",function(t){if(e.state.piece){switch(t.code){case"ArrowUp":e.setPieceState(k.rotate(e.state));break;case"ArrowDown":e.setState(k.moveDown(e.state));break;case"ArrowLeft":e.setPieceState(k.moveLeft(e.state));break;case"ArrowRight":e.setPieceState(k.moveRight(e.state));break;case"Space":e.setPieceState(k.hardDrop(e.state));break;case"Enter":e.setPieceState(k.spawnPiece());break;case"Escape":e.setState({paused:k.pause(e.state)})}e.drawBoard()}})}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[8,1,2]]]);
//# sourceMappingURL=main.deec1cb1.chunk.js.map