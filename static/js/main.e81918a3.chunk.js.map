{"version":3,"sources":["Settings/Settings.js","Components/Pieces.js","Actions/Actions.js","Components/BoardController.js","Components/BoardRenderer.js","Components/Info.js","Components/Controls.js","Components/Menu.js","Pieces/Pieces2.js","Pieces/Piece.js","Reactris.js","serviceWorker.js","index.js"],"names":["Settings","GAME_WIDTH","GAME_HEIGHT","piece_O","shapes","pos_y","pos_x","rotation","potential_pos_y","potential_pos_x","potential_rotation","piece_J","piece_L","piece_T","piece_I","piece_Z","piece_S","Pieces","getPiece","type","piece","length","getPieces","AppActions","validateMove","state","paused","this","isSpaceAvailable","landed","row","col","error","moveDown","console","log","landPiece","moveLeft","moveRight","hardDrop","rotate","pause","clearPiece","score","spawnPiece","list","rand","Math","floor","random","BoardController","Array","fill","map","_","newBoard","getNewBoard","el","document","getElementById","ratio","style","width","offsetHeight","BoardRenderer","value","react_default","a","createElement","className","_this","props","key","id","drawCol","Component","Info","linesCleared","Controls","onClick","setStateVariable","Actions","movePiece","Menu","O","J","L","T","I","Z","S","Pieces2","Piece","stringShape","Object","classCallCheck","_shape","_rotation","_pos_y","_pos_x","_potential_pos_y","_potential_pos_x","round","_potential_rotation","shape","r","y","x","Reactris","possibleConstructorReturn","getPrototypeOf","call","board","drawBoard","p","p2","attachEventListeners","setState","Components_Menu","_this2","Components_BoardRenderer","Components_Info","Components_Controls","setPieceState","_this3","window","onload","scaleBoard","addEventListener","bind","event","code","Boolean","location","hostname","match","ReactDOM","render","src_Reactris_0","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.e81918a3.chunk.js","sourcesContent":["export default {\r\n  // dimensions in \"blocks\"\r\n  GAME_WIDTH: 10,\r\n  GAME_HEIGHT: 16\r\n};","const piece_O = {\r\n  shapes: [\r\n    [[1,1],\r\n    [1,1]],\r\n  ],\r\n  pos_y: 0,\r\n  pos_x: 4,\r\n  rotation: 0,\r\n  potential_pos_y: 0,\r\n  potential_pos_x: 0,\r\n  potential_rotation: 0\r\n};\r\n\r\nconst piece_J = {\r\n  shapes: [\r\n    [[0,1,1],\r\n    [0,1,0],\r\n    [0,1,0]],\r\n\r\n    [[0,0,0],\r\n    [1,1,1],\r\n    [0,0,1]],\r\n\r\n    [[0,1,0],\r\n    [0,1,0],\r\n    [1,1,0]],\r\n\r\n    [[1,0,0],\r\n    [1,1,1],\r\n    [0,0,0]]\r\n  ],\r\n  pos_y: 0,\r\n  pos_x: 4,\r\n  rotation: 0,\r\n  potential_pos_y: 0,\r\n  potential_pos_x: 0,\r\n  potential_rotation: 0\r\n};\r\n\r\nconst piece_L = {\r\n  shapes: [\r\n    [[1,1,0],\r\n    [0,1,0],\r\n    [0,1,0]],\r\n\r\n    [[0,0,1],\r\n    [1,1,1],\r\n    [0,0,0]],\r\n\r\n    [[0,1,0],\r\n    [0,1,0],\r\n    [0,1,1]],\r\n\r\n    [[0,0,0],\r\n    [1,1,1],\r\n    [1,0,0]],\r\n  ],\r\n  pos_y: 0,\r\n  pos_x: 4,\r\n  rotation: 0,\r\n  potential_pos_y: 0,\r\n  potential_pos_x: 0,\r\n  potential_rotation: 0,\r\n};\r\n\r\nconst piece_T = {\r\n  shapes: [\r\n    [[0,1,0],\r\n    [1,1,1],\r\n    [0,0,0]],\r\n\r\n    [[0,1,0],\r\n    [0,1,1],\r\n    [0,1,0]],\r\n\r\n    [[0,0,0],\r\n    [1,1,1],\r\n    [0,1,0]],\r\n\r\n    [[0,1,0],\r\n    [1,1,0],\r\n    [0,1,0]],\r\n  ],\r\n  pos_y: 0,\r\n  pos_x: 4,\r\n  rotation: 0,\r\n  potential_pos_y: 0,\r\n  potential_pos_x: 0,\r\n  potential_rotation: 0\r\n};\r\n\r\nconst piece_I = {\r\n  shapes: [\r\n    [[0,0,1,0],\r\n    [0,0,1,0],\r\n    [0,0,1,0],\r\n    [0,0,1,0]],\r\n\r\n    [[0,0,0,0],\r\n    [0,0,0,0],\r\n    [1,1,1,1],\r\n    [0,0,0,0]],\r\n\r\n    [[0,1,0,0],\r\n    [0,1,0,0],\r\n    [0,1,0,0],\r\n    [0,1,0,0]],\r\n\r\n    [[0,0,0,0],\r\n    [1,1,1,1],\r\n    [0,0,0,0],\r\n    [0,0,0,0]],\r\n  ],\r\n  pos_y: 0,\r\n  pos_x: 4,\r\n  rotation: 0,\r\n  potential_pos_y: 0,\r\n  potential_pos_x: 0,\r\n  potential_rotation: 0\r\n};\r\n\r\nconst piece_Z = {\r\n  shapes: [\r\n    [[0,1,0],\r\n    [0,1,1],\r\n    [0,0,1]],\r\n\r\n    [[0,0,0],\r\n    [0,1,1],\r\n    [1,1,0]],\r\n\r\n    [[1,0,0],\r\n    [1,1,0],\r\n    [0,1,0]],\r\n\r\n    [[0,1,1],\r\n    [1,1,0],\r\n    [0,0,0]]\r\n  ],\r\n  pos_y: 0,\r\n  pos_x: 4,\r\n  rotation: 0,\r\n  potential_pos_y: 0,\r\n  potential_pos_x: 0,\r\n  potential_rotation: 0\r\n};\r\n\r\nconst piece_S = {\r\n  shapes: [\r\n    [[0,0,1],\r\n    [0,1,1],\r\n    [0,1,0]],\r\n\r\n    [[0,0,0],\r\n    [1,1,0],\r\n    [0,1,1]],\r\n\r\n    [[0,1,0],\r\n    [1,1,0],\r\n    [1,0,0]],\r\n\r\n    [[1,1,0],\r\n    [0,1,1],\r\n    [0,0,0]],\r\n  ],\r\n  pos_y: 0,\r\n  pos_x: 4,\r\n  rotation: 0,\r\n  potential_pos_y: 0,\r\n  potential_pos_x: 0,\r\n  potential_rotation: 0\r\n};\r\n\r\nconst Pieces = {\r\n  getPiece(type, rotation){\r\n    var piece;\r\n\r\n    switch (type) {\r\n      case 'O':\r\n        piece = piece_O;\r\n        break;\r\n      case 'J':\r\n        piece = piece_J;\r\n        break;\r\n      case 'L':\r\n        piece = piece_L;\r\n        break;\r\n      case 'I':\r\n        piece = piece_I;\r\n        break;\r\n      case 'T':\r\n        piece = piece_T;\r\n        break;\r\n      case 'Z':\r\n        piece = piece_Z;\r\n        break;\r\n      case 'S':\r\n        piece = piece_S;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    //Check if can be rotated\r\n    if(piece.shapes.length <= rotation){\r\n      piece.rotation = rotation;\r\n    }\r\n    return piece;\r\n  },\r\n\r\n  getPieces(){\r\n    let pieces = [];\r\n    return pieces;\r\n  }\r\n};\r\n\r\nexport default Pieces;\r\n/*\r\nconst piece_O = {\r\n  shapes: [\r\n    [[1,1],\r\n    [1,1]],\r\n  ],\r\n  pos_y: 0,\r\n  pos_x: 4,\r\n  rotation: 0,\r\n  potential_pos_y: 0,\r\n  potential_pos_x: 0,\r\n  potential_rotation: 0\r\n};\r\n\r\nconst piece_J = {\r\n  shapes: [\r\n    [[0,1,1],\r\n    [0,1,0],\r\n    [0,1,0]],\r\n\r\n    [[0,0,0],\r\n    [1,1,1],\r\n    [0,0,1]],\r\n\r\n    [[0,1,0],\r\n    [0,1,0],\r\n    [1,1,0]],\r\n\r\n    [[1,0,0],\r\n    [1,1,1],\r\n    [0,0,0]]\r\n  ],\r\n  pos_y: 0,\r\n  pos_x: 4,\r\n  rotation: 0,\r\n  potential_pos_y: 0,\r\n  potential_pos_x: 0,\r\n  potential_rotation: 0\r\n};\r\n\r\nconst piece_L = {\r\n  shapes: [\r\n    [[1,1,0],\r\n    [0,1,0],\r\n    [0,1,0]],\r\n\r\n    [[0,0,1],\r\n    [1,1,1],\r\n    [0,0,0]],\r\n\r\n    [[0,1,0],\r\n    [0,1,0],\r\n    [0,1,1]],\r\n\r\n    [[0,0,0],\r\n    [1,1,1],\r\n    [1,0,0]],\r\n  ],\r\n  pos_y: 0,\r\n  pos_x: 4,\r\n  rotation: 0,\r\n  potential_pos_y: 0,\r\n  potential_pos_x: 0,\r\n  potential_rotation: 0,\r\n};\r\n\r\nconst piece_T = {\r\n  shapes: [\r\n    [[0,1,0],\r\n    [1,1,1],\r\n    [0,0,0]],\r\n\r\n    [[0,1,0],\r\n    [0,1,1],\r\n    [0,1,0]],\r\n\r\n    [[0,0,0],\r\n    [1,1,1],\r\n    [0,1,0]],\r\n\r\n    [[0,1,0],\r\n    [1,1,0],\r\n    [0,1,0]],\r\n  ],\r\n  pos_y: 0,\r\n  pos_x: 4,\r\n  rotation: 0,\r\n  potential_pos_y: 0,\r\n  potential_pos_x: 0,\r\n  potential_rotation: 0\r\n};\r\n\r\nconst piece_I = {\r\n  shapes: [\r\n    [[0,0,1,0],\r\n    [0,0,1,0],\r\n    [0,0,1,0],\r\n    [0,0,1,0]],\r\n\r\n    [[0,0,0,0],\r\n    [0,0,0,0],\r\n    [1,1,1,1],\r\n    [0,0,0,0]],\r\n\r\n    [[0,1,0,0],\r\n    [0,1,0,0],\r\n    [0,1,0,0],\r\n    [0,1,0,0]],\r\n\r\n    [[0,0,0,0],\r\n    [1,1,1,1],\r\n    [0,0,0,0],\r\n    [0,0,0,0]],\r\n  ],\r\n  pos_y: 0,\r\n  pos_x: 4,\r\n  rotation: 0,\r\n  potential_pos_y: 0,\r\n  potential_pos_x: 0,\r\n  potential_rotation: 0\r\n};\r\n\r\nconst piece_Z = {\r\n  shapes: [\r\n    [[0,1,0],\r\n    [0,1,1],\r\n    [0,0,1]],\r\n\r\n    [[0,0,0],\r\n    [0,1,1],\r\n    [1,1,0]],\r\n\r\n    [[1,0,0],\r\n    [1,1,0],\r\n    [0,1,0]],\r\n\r\n    [[0,1,1],\r\n    [1,1,0],\r\n    [0,0,0]]\r\n  ],\r\n  pos_y: 0,\r\n  pos_x: 4,\r\n  rotation: 0,\r\n  potential_pos_y: 0,\r\n  potential_pos_x: 0,\r\n  potential_rotation: 0\r\n};\r\n\r\nconst piece_S = {\r\n  shapes: [\r\n    [[0,0,1],\r\n    [0,1,1],\r\n    [0,1,0]],\r\n\r\n    [[0,0,0],\r\n    [1,1,0],\r\n    [0,1,1]],\r\n\r\n    [[0,1,0],\r\n    [1,1,0],\r\n    [1,0,0]],\r\n\r\n    [[1,1,0],\r\n    [0,1,1],\r\n    [0,0,0]],\r\n  ],\r\n  pos_y: 0,\r\n  pos_x: 4,\r\n  rotation: 0,\r\n  potential_pos_y: 0,\r\n  potential_pos_x: 0,\r\n  potential_rotation: 0\r\n};\r\n\r\nconst Pieces = {\r\n  getPiece(type, rotation){\r\n    var piece;\r\n\r\n    switch (type) {\r\n      case 'O':\r\n        piece = piece_O;\r\n        break;\r\n      case 'J':\r\n        piece = piece_J;\r\n        break;\r\n      case 'L':\r\n        piece = piece_L;\r\n        break;\r\n      case 'I':\r\n        piece = piece_I;\r\n        break;\r\n      case 'T':\r\n        piece = piece_T;\r\n        break;\r\n      case 'Z':\r\n        piece = piece_Z;\r\n        break;\r\n      case 'S':\r\n        piece = piece_S;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    //Check if can be rotated\r\n    if(piece.shapes.length <= rotation){\r\n      piece.rotation = rotation;\r\n    }\r\n    return piece;\r\n  },\r\n\r\n  getPieces(){\r\n    let pieces = [];\r\n    return pieces;\r\n  }\r\n};\r\n\r\nexport default Pieces;\r\n*/","import Pieces from '../Components/Pieces.js';\r\n\r\nconst AppActions = {\r\n  \r\n  validateMove(state){\r\n    if(!state.paused && state.piece && this.isSpaceAvailable(state)){\r\n      return true;\r\n    }\r\n    return false;\r\n  },\r\n\r\n  isSpaceAvailable(state){\r\n    var piece = state.piece;\r\n    var landed = state.landed;\r\n    try {\r\n      for (let row = 0; row < piece.shapes[piece.potential_rotation].length; row++) {\r\n        for (let col = 0; col < piece.shapes[piece.potential_rotation][row].length; col++) {\r\n          if (piece.shapes[piece.potential_rotation][row][col] !== 0) {\r\n            if(landed[row + piece.potential_pos_y][col + piece.potential_pos_x] !== 0){\r\n              //Space not available\r\n              return false;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return true;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  },\r\n\r\n  moveDown(state) {\r\n    var piece = state.piece;\r\n    piece.potential_pos_y = state.piece.pos_y + 1;\r\n\r\n    if(this.validateMove(state)){\r\n      console.log('Down');\r\n      piece.pos_y = state.piece.potential_pos_y;\r\n    } else {\r\n      //cant move down, land the block in place\r\n      this.landPiece(state);\r\n    }\r\n    return state;\r\n  },\r\n\r\n  moveLeft(state) {\r\n    var piece = state.piece;\r\n    piece.potential_pos_x = piece.pos_x - 1;\r\n\r\n    if(this.validateMove(state)){\r\n      console.log('Left');\r\n      piece.pos_x = piece.potential_pos_x;\r\n    } else {\r\n      //reset\r\n      piece.potential_pos_x = piece.pos_x;\r\n    }\r\n    return piece;\r\n  },\r\n\r\n  moveRight(state) {\r\n    var piece = state.piece;\r\n    piece.potential_pos_x = piece.pos_x  + 1;\r\n\r\n    if(this.validateMove(state)){\r\n      console.log('Right');\r\n      piece.pos_x = piece.potential_pos_x;\r\n    } else {\r\n      //reset\r\n      piece.potential_pos_x = piece.pos_x;\r\n    }\r\n    return piece;\r\n  },\r\n\r\n  hardDrop(state) {\r\n    if(this.validateMove(state)){\r\n      console.log('Drop');\r\n      //TODO\r\n    }\r\n  },\r\n\r\n  rotate(state) {\r\n    var piece = state.piece;\r\n    piece.potential_rotation = piece.rotation + 1;\r\n\r\n    if(piece.potential_rotation >= piece.shapes.length){\r\n      piece.potential_rotation = 0;\r\n    }\r\n\r\n    if(this.validateMove(state)){\r\n      console.log('rotate');\r\n      piece.rotation = piece.potential_rotation;\r\n    } else {\r\n      //reset\r\n      piece.potential_rotation = piece.rotation;\r\n    }\r\n    return piece;\r\n  },\r\n\r\n  pause(state) {\r\n    state.paused = !state.paused;\r\n    (state.paused ? console.log('Pause') : console.log('Resume') );\r\n    return state.paused;\r\n  },\r\n\r\n  clearPiece(state){\r\n    state.piece = null;\r\n    return state.piece; \r\n  },\r\n\r\n  landPiece(state){\r\n    if(!state.piece) return;\r\n\r\n    console.log('land piece');\r\n    var piece = state.piece;\r\n    var landed = state.landed;\r\n\r\n    //TODO\r\n    for (let row = 0; row < piece.shapes[piece.rotation].length; row++) {\r\n      for (let col = 0; col < piece.shapes[piece.rotation][row].length; col++) {\r\n        if (piece.shapes[piece.rotation][row][col] !== 0) {\r\n          landed[row + piece.pos_y][col + piece.pos_x] = piece.shapes[piece.rotation][row][col];\r\n        }\r\n      }\r\n    }\r\n    state.score = state.score + 10;\r\n    state.piece = Pieces.getPiece('I', 0);\r\n    console.log(state.piece);\r\n    return state;\r\n  },\r\n\r\n  spawnPiece(state){\r\n    var list = ['O', 'J', 'L', 'I', 'T', 'Z', 'S'];\r\n    var rand = Math.floor(Math.random() * 7);\r\n    console.log('spawn piece: ' + list[rand]);\r\n    return Pieces.getPiece(list[rand], 0);\r\n  }\r\n};\r\n\r\nexport default AppActions;\r\n\r\n\r\n\r\n  /*gi\r\n  isWithinBoundaries(state){\r\n    var piece = state.piece;\r\n    var height = state.board.length;\r\n    var width = state.board[0].length;\r\n    var pw = piece.shapes[piece.potential_rotation][0].length;\r\n    var ph = piece.shapes[piece.potential_rotation].length;\r\n    var py = piece.potential_pos_y;\r\n    var px = piece.potential_pos_x;\r\n\r\n    console.log('h:' + height);\r\n    console.log('width:' + width);\r\n    console.log('pw:' + pw);\r\n    console.log('ph:' + ph);\r\n    console.log('py:' + py);\r\n    console.log('px:' + px);\r\n\r\n    console.log('piece width' + Pieces.getPieceWidth(piece));\r\n    console.log('piece height' + Pieces.getPieceHeight(piece));\r\n\r\n    //width check\r\n    if(width < (px + pw) || (px < 0)){\r\n      return false;\r\n    }\r\n    //height check\r\n    if(height < (py + ph) || (py < 0)){\r\n      return false\r\n    }\r\n    return true;\r\n  },\r\n  */\r\n\r\n\r\n  /*\r\n  rotation pushing \r\n    var pw = piece.shapes[piece.potential_rotation][0].length;\r\n    var ph = piece.shapes[piece.potential_rotation].length;\r\n\r\n    var width = state.board[0].length;\r\n    var height = state.board.length;\r\n    var npw = piece.shapes[piece.potential_rotation][0].length;\r\n    var nph = piece.shapes[piece.potential_rotation].length;\r\n    var py = piece.potential_pos_y;\r\n    var px = piece.potential_pos_x;\r\n\r\n    else if(this.isWithinBoundaries(state) === false){\r\n      if(width < (px + pw)){\r\n        console.log('w1');\r\n        piece.pos_x = px - (npw);\r\n      } else if(px < 0){\r\n        console.log('w1');\r\n        piece.pos_x = px + (npw + pw);\r\n      } else if(height < (py + ph)){\r\n        console.log('h1');\r\n        piece.pos_y = py - (nph - ph);\r\n      } else if((py < 0)){\r\n        console.log('h2');\r\n        piece.pos_y = py + (nph + ph);\r\n      }\r\n      piece.rotation = piece.potential_rotation;\r\n    } \r\n  */","import Settings from '../Settings/Settings';\r\n\r\nclass BoardController {\r\n\r\n    /*\r\n    * returns a new empty 10:16 board, can be changed in settings\r\n    */\r\n    static getNewBoard(){\r\n        return Array(Settings.GAME_HEIGHT).fill(null).map(_ => Array(Settings.GAME_WIDTH).fill(0));\r\n    }\r\n\r\n    /*\r\n    * helper function to calculate boards current state, with piece position and landed blocks\r\n    */\r\n    static drawBoard(state){\r\n        var newBoard = this.getNewBoard();\r\n        var landed = state.landed;\r\n        var piece = state.piece;\r\n    \r\n        //draw landed\r\n        for (let row = 0; row < landed.length; row++) {\r\n          for (let col = 0; col < landed[row].length; col++) {\r\n            if (landed[row][col] !== 0) {\r\n              //draw piece at position corresponding to row and col\r\n              newBoard[row][col] = 1;\r\n            }\r\n          }\r\n        }\r\n    \r\n        //draw current piece\r\n        for (let row = 0; row < piece.shapes[piece.rotation].length; row++) {\r\n          for (let col = 0; col < piece.shapes[piece.rotation][row].length; col++) {\r\n            if (piece.shapes[piece.rotation][row][col] !== 0) {\r\n              //draw piece at position corresponding to \r\n              //row + piece.pos_y, and col + piece.pos_x\r\n              newBoard[row+piece.pos_y][col+piece.pos_x] = 1;\r\n            }\r\n          }\r\n        }\r\n        return newBoard;\r\n      }\r\n\r\n      static scaleBoard(){\r\n        let el = document.getElementById('scaler');\r\n        let ratio = Settings.GAME_WIDTH / Settings.GAME_HEIGHT;\r\n        el.style.width = el.offsetHeight * ratio + 'px';\r\n      }\r\n};\r\n\r\nexport default BoardController;","import React, { Component } from 'react';\r\n\r\nclass BoardRenderer extends Component {\r\n\r\n  drawCol(value) {\r\n    if (value === 0) {\r\n      return <div className=\"col empty\"></div>;\r\n    }\r\n    return <div className=\"col filled\"></div>;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"table\">\r\n        {this.props.state.map(row => (\r\n          <div className=\"row\" key={row.id}>\r\n          \r\n            {row.map(col => (\r\n              this.drawCol(col)\r\n            ))}\r\n\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BoardRenderer;","import React, { Component } from 'react';\r\nimport './css/info.css';\r\n\r\nclass Info extends Component {\r\n  paused(){\r\n    if(this.props.state.paused){\r\n      return (\r\n          <span className=\"blink\">\r\n            ||\r\n          </span>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"info\">\r\n        {this.paused()}\r\n        <span className=\"score\">\r\n          Score: {this.props.state.score}    Lines: {this.props.state.linesCleared}\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Info;","import React, { Component } from 'react';\r\nimport Actions from '../Actions/Actions.js';\r\nimport './css/Controls.css';\r\n\r\nclass Controls extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"buttons\">\r\n          <div className=\"button\">\r\n            <button onClick={() => this.props.setStateVariable({paused: Actions.pause(this.props.state)})}></button>\r\n            <div>Pause</div>\r\n          </div>\r\n          <div className=\"button\">\r\n            <button></button>\r\n            <div>Reset</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"arrows\">\r\n          <center>\r\n            <div className=\"up\">\r\n              <button className=\"arrow-up\" onClick={() => this.props.movePiece(Actions.rotate(this.props.state))}></button>\r\n            </div>\r\n            <div className=\"left-right\">\r\n              <button className=\"arrow-left\" onClick={() => this.props.movePiece(Actions.moveLeft(this.props.state))}></button>\r\n              <span className=\"spacer\">\r\n                <i className=\"up\"/>\r\n                <i className=\"left\"/>\r\n                <i className=\"right\"/>\r\n                <i className=\"down\"/>\r\n              </span>\r\n              <button className=\"arrow-right\" onClick={() => this.props.movePiece(Actions.moveRight(this.props.state))}></button>\r\n            </div>\r\n            <div className=\"down\">\r\n              <button className=\"arrow-down\" onClick={() => this.props.movePiece(Actions.moveDown(this.props.state))}></button>\r\n            </div>\r\n          </center>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Controls;","import React, { Component } from 'react';\r\nimport Actions from '../Actions/Actions.js';\r\nimport Settings from '../Settings/Settings.js';\r\nimport './css/Menu.css';\r\n\r\nclass Menu extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"menu-container\">\r\n        <div className=\"menu\">\r\n          <h1>Paused</h1>\r\n          <div className=\"body\">\r\n            width: {Settings.GAME_WIDTH}\r\n            <br/>\r\n            height: {Settings.GAME_HEIGHT}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Menu;","const O = [\r\n  [[1,1],\r\n   [1,1]],\r\n];\r\n\r\nconst J = [\r\n  [[0,1,1],\r\n   [0,1,0],\r\n   [0,1,0]],\r\n\r\n  [[0,0,0],\r\n   [1,1,1],\r\n   [0,0,1]],\r\n\r\n  [[0,1,0],\r\n   [0,1,0],\r\n   [1,1,0]],\r\n\r\n  [[1,0,0],\r\n   [1,1,1],\r\n   [0,0,0]]\r\n];\r\n\r\nconst L = [\r\n  [[1,1,0],\r\n   [0,1,0],\r\n   [0,1,0]],\r\n\r\n  [[0,0,1],\r\n   [1,1,1],\r\n   [0,0,0]],\r\n\r\n  [[0,1,0],\r\n   [0,1,0],\r\n   [0,1,1]],\r\n\r\n  [[0,0,0],\r\n   [1,1,1],\r\n   [1,0,0]],\r\n];\r\n\r\nconst T = [\r\n  [[0,1,0],\r\n   [1,1,1],\r\n   [0,0,0]],\r\n\r\n  [[0,1,0],\r\n   [0,1,1],\r\n   [0,1,0]],\r\n\r\n  [[0,0,0],\r\n   [1,1,1],\r\n   [0,1,0]],\r\n\r\n  [[0,1,0],\r\n   [1,1,0],\r\n   [0,1,0]],\r\n];\r\n\r\nconst I = [\r\n  [[0,0,1,0],\r\n   [0,0,1,0],\r\n   [0,0,1,0],\r\n   [0,0,1,0]],\r\n\r\n  [[0,0,0,0],\r\n   [0,0,0,0],\r\n   [1,1,1,1],\r\n   [0,0,0,0]],\r\n\r\n  [[0,1,0,0],\r\n   [0,1,0,0],\r\n   [0,1,0,0],\r\n   [0,1,0,0]],\r\n\r\n  [[0,0,0,0],\r\n   [1,1,1,1],\r\n   [0,0,0,0],\r\n   [0,0,0,0]],\r\n];\r\n\r\nconst Z = [\r\n  [[0,1,0],\r\n   [0,1,1],\r\n   [0,0,1]],\r\n\r\n  [[0,0,0],\r\n   [0,1,1],\r\n   [1,1,0]],\r\n\r\n  [[1,0,0],\r\n   [1,1,0],\r\n   [0,1,0]],\r\n\r\n  [[0,1,1],\r\n   [1,1,0],\r\n   [0,0,0]]\r\n];\r\n\r\nconst S = [\r\n  [[0,0,1],\r\n   [0,1,1],\r\n   [0,1,0]],\r\n\r\n  [[0,0,0],\r\n   [1,1,0],\r\n   [0,1,1]],\r\n\r\n  [[0,1,0],\r\n   [1,1,0],\r\n   [1,0,0]],\r\n\r\n  [[1,1,0],\r\n   [0,1,1],\r\n   [0,0,0]],\r\n];\r\n\r\nconst Pieces2 = {\r\n  getPiece(type, rotation){\r\n    console.log('getPiece(' + type + ',' + rotation + ')');\r\n    var shapes;\r\n    var piece;\r\n\r\n    switch (type) {\r\n      case 'O':\r\n       shapes = O;\r\n        break;\r\n      case 'J':\r\n        shapes = J;\r\n        break;\r\n      case 'L':\r\n        shapes = L;\r\n        break;\r\n      case 'I':\r\n        shapes = I;\r\n        break;\r\n      case 'T':\r\n        shapes = T;\r\n        break;\r\n      case 'Z':\r\n        shapes = Z;\r\n        break;\r\n      case 'S':\r\n       shapes = S;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    //Check if can be rotated\r\n    if(shapes.length >= rotation){\r\n      piece = shapes[rotation];\r\n    } else {\r\n      piece = shapes[0];\r\n    }\r\n    return piece;\r\n  },\r\n\r\n  getPieces(){\r\n    let pieces = [];\r\n    return pieces;\r\n  }\r\n};\r\n\r\nexport default Pieces2;","import Pieces2 from \"./Pieces2.js\";\r\nimport Settings from '../Settings/Settings.js';\r\n\r\nclass Piece {\r\n  constructor(stringShape, rotation) {\r\n    this._shape = Pieces2.getPiece(stringShape, rotation);\r\n    this._rotation = rotation;\r\n    this._pos_y = 0;\r\n    this._pos_x = 4;\r\n    this._potential_pos_y = 0;\r\n    this._potential_pos_x = Math.round(Settings.GAME_WIDTH / 2 - 1); //center\r\n    this._potential_rotation = 0;\r\n  }\r\n  \r\n  get shape(){\r\n    return this._shape;\r\n  }\r\n  get rotation(){\r\n    return this._rotation;\r\n  }\r\n  get pos_y(){\r\n    return this._pos_y;\r\n  }\r\n  get pos_x(){\r\n    return this._pos_x;\r\n  }\r\n  get potential_pos_y(){\r\n    return this._potential_pos_y;\r\n  }\r\n  get potential_Pos_x(){\r\n    return this._potential_pos_x;\r\n  }\r\n  get potential_rotation(){\r\n    return this._potential_rotation;\r\n  }\r\n\r\n  //Example: setShape(['Z',0]);\r\n  set shape(shape){\r\n    this._shape = Pieces2.getPiece(shape[0], shape[1]);\r\n  }\r\n  set rotation(r){\r\n    this._rotation = r;\r\n  }\r\n  set pos_y(y){\r\n    this._pos_y = y;\r\n  }\r\n  set pos_x(x){\r\n    this._pos_x = x;\r\n  }\r\n  set potential_pos_y(y){\r\n   this._potential_pos_y = y;\r\n  }\r\n  set potential_Pos_x(x){\r\n   this._potential_pos_x = x;\r\n  }\r\n  set potential_rotation(r){\r\n    this._potential_rotation = r;\r\n  }\r\n  \r\n  Log() {\r\n   console.log(this);\r\n  }\r\n}\r\n\r\nexport default Piece;","import React, { Component } from 'react';\nimport './Reactris.css';\nimport Settings from './Settings/Settings.js';\nimport Actions from './Actions/Actions.js';\nimport BoardController from './Components/BoardController.js';\nimport BoardRenderer from './Components/BoardRenderer.js';\nimport Pieces from './Components/Pieces.js';\nimport Info from './Components/Info.js';\nimport Controls from './Components/Controls.js';\nimport Menu from './Components/Menu.js';\n\nimport Pieces2 from './Pieces/Pieces2.js';\nimport Piece from './Pieces/Piece.js';\n\nclass Reactris extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      score: 0,\n      linesCleared: 0,\n      paused: false,\n      \n      board: BoardController.getNewBoard(),\n\n      landed: BoardController.getNewBoard(),\n\n      piece: Pieces.getPiece('T',0)\n    }\n\n    this.state.board = BoardController.drawBoard(this.state);\n\n    //DEBUG--------\n    var p = new Piece('Z',1);\n    var p2 = Pieces2.getPiece('Z', 1);\n    console.log(p);\n    console.log(p2);\n    p.pos_y = 4;\n    //DEBUG--------\n  }\n\n  componentDidMount(){\n    this.attachEventListeners();\n    //this.spawnPiece();\n    //this.startGame();\n  }\n\n  componentDidUpdate(){\n\n  }\n  \n  drawBoard(){\n    console.log('drawboard');\n    this.setState({board: BoardController.drawBoard(this.state)});\n  }\n\n  setPieceState(state){\n    this.setState({piece: state});\n    this.drawBoard();\n  }\n\n  setStateVariable(value){\n    this.setState(value);\n  }\n\n  setLanded(state){\n    this.setState({landed: state.landed, piece: state.piece,  score: state.score});\n  }\n\n  paused(){\n    if(this.state.paused){\n      return (\n          <Menu />\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"main-container\">\n        <div className=\"gameboy\">\n          <div className=\"reactris-container\">\n            <div className=\"screen\">\n              {this.paused()}\n              <div id=\"scaler\">\n                <BoardRenderer state={this.state.board}/>\n              </div>\n              <Info state={this.state}/>\n            </div>\n            <div className=\"controls\">\n              <Controls state={this.state} movePiece={p=>{this.setPieceState(p)}} setStateVariable={p=>{this.setStateVariable(p)}}/>\n            </div>\n          </div>\n        </div>\n        <div className=\"debug-container\">\n          <div className=\"debug-board\">\n            Landed Debug\n            <BoardRenderer state={this.state.landed}/>\n          </div>\n          <div className=\"debug-board\">\n            Piece Debug\n            <BoardRenderer state={this.state.piece.shapes[this.state.piece.rotation]}/>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  attachEventListeners() {\n    //Window Rezise\n    window.onload = () => {BoardController.scaleBoard()};\n    window.addEventListener(\"resize\", BoardController.scaleBoard.bind(this));\n\n    //Keyboard\n    document.addEventListener('keydown', (event) => {\n      if(!this.state.piece) {\n        return;\n      }\n      switch (event.code) {\n        case 'ArrowUp':\n          this.setPieceState(Actions.rotate(this.state));\n          break;\n        case 'ArrowDown':\n          this.setState(Actions.moveDown(this.state));\n          break;\n        case 'ArrowLeft':\n          this.setPieceState(Actions.moveLeft(this.state));\n          break;\n        case 'ArrowRight':\n          this.setPieceState(Actions.moveRight(this.state));\n          break;\n        case 'Space':\n          this.setPieceState(Actions.hardDrop(this.state));\n          break;\n        //For TESTING\n        case 'Enter':\n          this.setPieceState(Actions.spawnPiece(this.state));\n          break;\n        case 'Escape':\n          this.setState({paused: Actions.pause(this.state)});\n          break;\n        default:\n          break;\n      }\n      this.drawBoard();\n    });\n  }\n}\n\nexport default Reactris;\n\n/*\n<div className=\"screen\">\n                <BoardRenderer state={this.state.board}/>\n                <Info state={this.state}/>\n              </div>\n*/","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Reactris from './Reactris';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Reactris />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}